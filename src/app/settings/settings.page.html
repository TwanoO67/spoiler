<ion-content>
  <div class="container" >
    <div class="header">
    Créer ici votre nouveau SPOILER!
    </div>


    <div class="main" *ngIf="this.step === 'title'" >
      <p>
        <label for="titre">Titre du film</label>
        <span class="wrap">
          <input type="text" [(ngModel)]="titre" (keyup.enter)="search()" name="titre"/><br/>
        </span>
      </p>
      <p class="cta-holder">
        <button (click)="search()" class="cta-button" style="float:right">Rechercher</button>
    	</p>
    </div>

    <div class="main" *ngIf="this.step === 'select'" >
      <p>
        <label for="movie">Choisissez parmis ces titres originaux</label>
        <select class="form-control" required [(ngModel)]="spoiler.id_themoviedb" name="movie">
          <option *ngFor="let pow of movies" [value]="pow.id">{{pow.title}}</option>
        </select>
      <p>
      <p class="cta-holder">

        <button (click)="this.step = 'title'" class="cta-button" >Annuler</button>
        <button (click)="select()" class="cta-button" style="float:right">Ok</button>
      </p>
    </div>

    <div class="main" *ngIf="this.step === 'spoil'" [style.backgroundImage]="'url('+affiche+')'"
    style="background-repeat: no-repeat; background-attachment: fixed; background-position: center;" >
          <h3 style="color:yellow">{{spoiler.titre}}</h3>
          <p class="cta-holder" style="margin-left:auto; margin-right: auto; text-align: center;">
            <label for="movie">Spoiler</label>
            <textarea name="movie" cols="40" rows="10" class="textarea" aria-invalid="false" [(ngModel)]="spoiler.description" (keyup.enter)="search()" placeholder="et à la fin..."></textarea>
          </p>
          <p class="cta-holder">
            <button (click)="newspoil()" class="cta-button">Annuler</button>
            <button (click)="save()" class="cta-button" style="float:right">Enregistrer</button>
          </p>
    </div>

    <div class="main" *ngIf="this.step === 'exist'">
      <p>
        Désolé, Un spoiler existe déjà pour ce film.
      </p>
      <p class="cta-holder">
        <button (click)="newspoil()" class="cta-button" style="float:right">Créer un autre Spoiler</button>
      </p>
    </div>

    <div class="main" *ngIf="this.step === 'thanks'">
      <p>
        Merci votre spoiler est bien enregistré!
      </p>
      <p class="cta-holder">
        <button (click)="newspoil()" class="cta-button">Créer un autre Spoiler</button>
      </p>
    </div>

    <div class="main" *ngIf="this.loading">
      <p>
        Chargement en cours...
      </p>
    </div>

    <div class="footer">
      <div id="buttons">
        <div class="yellow-btn" (click)="gotohome()">
          <span>Accueil</span>
        </div>
      </div>
    </div>

  </div>
</ion-content>
